# Watchlist

A collaborative watchlist app that helps you and your friends track movies and TV shows together. It syncs your watched status, ratings, and reactions across devices in real-time.

## Features

*   **Real-time Sync:** Your watched status, ratings, and reactions are synced across all your devices in real-time.
*   **Search & Add:** Search for any movie or TV show using TMDB and add it to your watchlist.
*   **Movie & Show Details:** View detailed information including release dates, runtimes, content ratings, and overviews.
*   **Posters & Backdrops:** Eye-catching posters and backdrop images for every movie and show.
*   **Filtering & Views:**
    *   Filter by movies, TV shows, or watched items.
    *   Toggle between a grid view and a list view.
    *   Sort by alphabetical, release date, or length.
*   **Feeling Lucky?:** Get a random movie suggestion for what to watch next.
*   **Reactions:** React to movies with custom emoji reactions that show on the poster.
*   **User Ratings:** Rate movies with a 5-star system and see your friends' ratings.
*   **Post-Watch Notes:** Add rich text notes to movies after you've watched them.
*   **Flairs:** Create custom flair badges to tag and organize your media.
*   **TV Progress Tracking:** Track your progress through TV series by season and episode.
*   **Customizable Themes:** Choose from multiple themes including Night Mode, Avengers Endgame, and Smiling Friends.
*   **Custom Avatars:** Set custom gradient or image avatars for each user.
*   **Customizable Wallpaper:** Personalize your experience by setting a custom wallpaper from your watchlist.

## How to Use

1.  **Search for Media:** Use the search bar to find movies or TV shows to add to your watchlist.
2.  **Add to Watchlist:** Click on a search result to open the details modal, then use the bookmark button or "Currently Watching" button to add it.
3.  **Mark as Watched:** Click "Mark as Watched" in the details modal to track what you've seen.
4.  **Rate & Review:** Give a star rating and add your notes in the details modal.
5.  **Add Reactions:** Click "Add Reaction" to react to a movie with an emoji.
6.  **Customize:** Click the user menu in the top right to access Settings for themes, avatars, and wallpapers.

### Notifications

The notification system keeps you updated on new features, updates, and announcements.

1.  **Opening Notifications:** Click the bell icon in the top navigation bar to open the notification modal. A red dot on the bell indicates unread notifications.
2.  **Filtering:** You can filter notifications by type (All, New Features, Updates, Announcements) by clicking the filter buttons at the top of the modal.
3.  **Reading Notifications:** Click on a notification to expand it and read the full summary.
4.  **Marking as Read/Unread:** Click the "Mark as read" or "Mark as unread" button on a notification to toggle its read status. You can also mark all notifications as read by clicking the "Mark all as read" button.

### Managing Notifications

Notifications are stored in a Firebase collection named `notifications`. There is a single document in this collection with the ID `main`. This document contains an array field called `notifications` where all the notification objects are stored.

To add a new notification, you need to add a new object to this array. Here is the structure of a notification object:

```json
{
  "id": "a-unique-id",
  "type": "feature",
  "title": "New Feature: AI-Generated Headings",
  "summary": "The main heading on the page is now generated by AI!",
  "description": "The heading will change periodically to give you a fun, new greeting every time you visit.",
  "date": "2025-08-28",
  "unreadBy": []
}
```

**Fields:**

*   `id` (string): A unique identifier for the notification.
*   `type` (string): The type of notification. This determines the color of the dot. Can be `feature`, `update`, or `announcement`.
*   `title` (string): The title of the notification.
*   `summary` (string): A short summary that is always visible.
*   `description` (string): The full description, visible when the notification is expanded.
*   `date` (string): The date of the notification in `YYYY-MM-DD` format.
*   `unreadBy` (array): An array of user IDs who have read the notification. This should be an empty array `[]` for new notifications.

70: ### Adding New Emojis
71: 
72: To add a new emoji to the mood selector, follow these steps:
73: 
74: 1.  **Add the Emoji Image:**
75:     *   Place your new emoji image (as a `.png` file) in the `public/moods` directory.
76:     *   Make sure the file name is in `kebab-case` (e.g., `new-emoji.png`) if you want the name to be auto-generated, OR use any name and map it in step 3.
77: 
78: 2.  **Update the Moods List:**
79:     *   Open the `src/app.js` file.
80:     *   Find the `MOODS` array.
81:     *   Add your new filename to the array: `'new-emoji.png'`.
82: 
83: 3.  **Add a Custom Label (Optional):**
84:     *   If you want a specific display name (e.g., "Das Tea" for `tea.png`), add it to the `MOOD_LABELS` object in `src/app.js`:
85: 
86:     ```javascript
87:     const MOOD_LABELS = {
88:         'tea.png': 'Das Tea',
89:         'new-emoji.png': 'My Custom Name'
90:     };
91:     ```
